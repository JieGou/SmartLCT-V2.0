<MetroUI:MetroWindow x:Class="Nova.SmartLCT.UI.Window_FastSegmentation"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:MetroUI="clr-namespace:Nova.SmartLCT.UI.MetroUI;assembly=Nova.SmartLCT.UI.MetroUI"
                     xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
                     xmlns:Nova_SmartLCT_Interface="clr-namespace:Nova.SmartLCT.Interface;assembly=Nova.SmartLCT.Interface.CommonData"
                     xmlns:Nova_Wpf_Control="clr-namespace:Nova.Wpf.Control;assembly=Nova.Wpf.Control.NumericUpDown"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
                     xmlns:local="clr-namespace:Nova.SmartLCT.UI"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     x:Name="Window"
                     Title="{DynamicResource Lang_Bright_FastSegmentation}"
                     Width="373"
                     Height="345"
                     Background="#FF303435"
                     Closed="Window_Closed"
                     Foreground="Gainsboro"
                     ResizeMode="NoResize"
                     mc:Ignorable="d">

    <Window.Resources>
        <local:Window_FastSegmentation_VM x:Key="Window_FastSegmentation_VMDataSource" d:IsDataSource="True" />


        <ControlTemplate x:Key="ScrollViewerControlTemplate_Center" TargetType="{x:Type ScrollViewer}">
            <Grid x:Name="Grid" Background="{TemplateBinding Background}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="{TemplateBinding Padding}"
                                        CanContentScroll="{TemplateBinding CanContentScroll}"
                                        CanHorizontallyScroll="False"
                                        CanVerticallyScroll="False"
                                        Content="{TemplateBinding Content}"
                                        ContentTemplate="{TemplateBinding ContentTemplate}" />
                <ScrollBar x:Name="PART_VerticalScrollBar"
                           Grid.Row="0"
                           Grid.Column="1"
                           AutomationProperties.AutomationId="VerticalScrollBar"
                           Cursor="Arrow"
                           Maximum="{TemplateBinding ScrollableHeight}"
                           Minimum="0"
                           ViewportSize="{TemplateBinding ViewportHeight}"
                           Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                           Value="{Binding VerticalOffset,
                                           Mode=OneWay,
                                           RelativeSource={RelativeSource TemplatedParent}}" />
                <ScrollBar x:Name="PART_HorizontalScrollBar"
                           Grid.Row="1"
                           Grid.Column="0"
                           AutomationProperties.AutomationId="HorizontalScrollBar"
                           Cursor="Arrow"
                           Maximum="{TemplateBinding ScrollableWidth}"
                           Minimum="0"
                           Orientation="Horizontal"
                           ViewportSize="{TemplateBinding ViewportWidth}"
                           Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                           Value="{Binding HorizontalOffset,
                                           Mode=OneWay,
                                           RelativeSource={RelativeSource TemplatedParent}}" />
                <Rectangle x:Name="Corner"
                           Grid.Row="1"
                           Grid.Column="1"
                           Fill="#FF303435" />
            </Grid>
        </ControlTemplate>
        <Style x:Key="ScrollBarButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="Focusable" Value="false" />
            <Setter Property="IsTabStop" Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Microsoft_Windows_Themes:ScrollChrome x:Name="Chrome"
                                                               Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="{TemplateBinding Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph}"
                                                               RenderMouseOver="{TemplateBinding IsMouseOver}"
                                                               RenderPressed="{TemplateBinding IsPressed}"
                                                               SnapsToDevicePixels="true" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="VerticalScrollBarPageButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Focusable" Value="false" />
            <Setter Property="IsTabStop" Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Rectangle Width="{TemplateBinding Width}"
                                   Height="{TemplateBinding Height}"
                                   Fill="{TemplateBinding Background}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ScrollBarThumb" TargetType="{x:Type Thumb}">
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="IsTabStop" Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border BorderBrush="#FF303435" BorderThickness="0,1,0,0">
                            <Border BorderBrush="#FF202123" BorderThickness="0,0,0,1">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                        <GradientStop Offset="1" Color="#FFAAAAAA" />
                                        <GradientStop Offset="0" Color="#FF646464" />
                                    </LinearGradientBrush>
                                </Border.Background>
                            </Border>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ScrollBarThumbv" TargetType="{x:Type Thumb}">
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="IsTabStop" Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border BorderBrush="#FF4A4B4D" BorderThickness="1,0,0,0">
                            <Border Background="{DynamicResource MyScrollTruckBackgroundv}"
                                    BorderBrush="#FF202123"
                                    BorderThickness="0,0,1,0" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <LinearGradientBrush x:Key="HorizontalScrollBarBackground" StartPoint="0,0.5" EndPoint="1,0.5">
            <GradientStop Offset="1" Color="Black" />
            <GradientStop Color="#FF2C2D31" />
            <GradientStop Offset="0.083" Color="#FF3E4042" />
            <GradientStop Offset="0.923" Color="#FF303435" />
            <GradientStop Offset="0.104" Color="#FF303435" />
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="MyScrollTruckBackground" StartPoint="0,0.5" EndPoint="1,0.5">
            <GradientStop Offset="1" Color="Black" />
            <GradientStop Color="#FF545454" />
            <GradientStop Offset="0.08" Color="#FF4D4E4E" />
            <GradientStop Offset="0.98" Color="#FF303435" />
            <GradientStop Offset="0.075" Color="#FF303435" />
            <GradientStop Color="#FF4A4C4D" />

        </LinearGradientBrush>
        <LinearGradientBrush x:Key="MyScrollTruckBackgroundv" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Offset="1" Color="Black" />
            <GradientStop Color="#FF545454" />
            <GradientStop Offset="0.08" Color="#FF4D4E4E" />
            <GradientStop Offset="0.98" Color="#FF303435" />
            <GradientStop Offset="0.075" Color="#FF303435" />
            <GradientStop Color="#FF4A4C4D" />
        </LinearGradientBrush>
        <Style x:Key="HorizontalScrollBarPageButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="OverridesDefaultStyle" Value="true" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Focusable" Value="false" />
            <Setter Property="IsTabStop" Value="false" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Rectangle Width="{TemplateBinding Width}"
                                   Height="{TemplateBinding Height}"
                                   Fill="{TemplateBinding Background}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="SButtonFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2"
                                   SnapsToDevicePixels="true"
                                   Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
                                   StrokeDashArray="1 2"
                                   StrokeThickness="1" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ButtonStyle_ScrollBarLineUp" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource SButtonFocusVisual}" />
            <Setter Property="Background" Value="{StaticResource ButtonNormalBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="Black"
                                BorderThickness="0,1">
                            <ed:RegularPolygon Width="8"
                                               Height="6"
                                               Margin="5,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Fill="Gainsboro"
                                               InnerRadius="1"
                                               PointCount="3"
                                               RenderTransformOrigin="0.5,0.5"
                                               Stretch="Fill">
                                <ed:RegularPolygon.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform Angle="0" />
                                        <TranslateTransform />
                                    </TransformGroup>
                                </ed:RegularPolygon.RenderTransform>
                            </ed:RegularPolygon>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="ToggleButton.IsChecked" Value="true" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ButtonStyle_ScrollBarLineLeft" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource SButtonFocusVisual}" />
            <Setter Property="Background" Value="{StaticResource ButtonNormalBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="Black"
                                BorderThickness="0,1">
                            <ed:RegularPolygon Width="8"
                                               Height="6"
                                               Margin="5,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Fill="Black"
                                               InnerRadius="1"
                                               PointCount="3"
                                               RenderTransformOrigin="0.5,0.5"
                                               Stretch="Fill">
                                <ed:RegularPolygon.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform Angle="-90" />
                                        <TranslateTransform />
                                    </TransformGroup>
                                </ed:RegularPolygon.RenderTransform>
                            </ed:RegularPolygon>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="ToggleButton.IsChecked" Value="true" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ButtonStyle_ScrollBarLineRight" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource SButtonFocusVisual}" />
            <Setter Property="Background" Value="{StaticResource ButtonNormalBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="Black"
                                BorderThickness="0,1">
                            <ed:RegularPolygon Width="8"
                                               Height="6"
                                               Margin="5,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Fill="Black"
                                               InnerRadius="1"
                                               PointCount="3"
                                               RenderTransformOrigin="0.5,0.5"
                                               Stretch="Fill">
                                <ed:RegularPolygon.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform Angle="90" />
                                        <TranslateTransform />
                                    </TransformGroup>
                                </ed:RegularPolygon.RenderTransform>
                            </ed:RegularPolygon>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="ToggleButton.IsChecked" Value="true" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type ScrollBar}">
            <Setter Property="Background" Value="#FF303435" />
            <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
            <Setter Property="Stylus.IsFlicksEnabled" Value="false" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="Width" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
            <Setter Property="MinWidth" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid x:Name="Bg"
                              Background="#FF4B4B4B"
                              SnapsToDevicePixels="true">
                            <Grid.RowDefinitions>
                                <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                                <RowDefinition Height="0.00001*" />
                                <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                            </Grid.RowDefinitions>
                            <Button Background="#FF646464"
                                    BorderBrush="{x:Null}"
                                    BorderThickness="0.5"
                                    Command="{x:Static ScrollBar.LineUpCommand}"
                                    IsEnabled="{TemplateBinding IsMouseOver}"
                                    Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="UpArrow"
                                    Style="{DynamicResource ButtonStyle_ScrollBarLineUp}" />
                            <Track x:Name="PART_Track"
                                   Grid.Row="1"
                                   IsDirectionReversed="true"
                                   IsEnabled="{TemplateBinding IsMouseOver}">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="{x:Static ScrollBar.PageUpCommand}" Style="{StaticResource VerticalScrollBarPageButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="{x:Static ScrollBar.PageDownCommand}" Style="{StaticResource VerticalScrollBarPageButton}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="VerticalGripper" Style="{StaticResource ScrollBarThumb}" />
                                </Track.Thumb>
                            </Track>
                            <Button x:Name="repeatButton"
                                    Grid.Row="2"
                                    Margin="0,0,0,-1"
                                    Background="#FF646464"
                                    BorderBrush="{x:Null}"
                                    BorderThickness="0.5"
                                    Command="{x:Static ScrollBar.LineDownCommand}"
                                    IsEnabled="{TemplateBinding IsMouseOver}"
                                    Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="DownArrow"
                                    Style="{DynamicResource ButtonStyle_ScrollBarLineDown}" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter TargetName="Bg" Property="Background" Value="Gray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="Orientation" Value="Horizontal">
                    <Setter Property="Width" Value="Auto" />
                    <Setter Property="MinWidth" Value="0" />
                    <Setter Property="Height" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />
                    <Setter Property="MinHeight" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />

                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ScrollBar}">
                                <Grid x:Name="Bg"
                                      Background="{TemplateBinding Background}"
                                      SnapsToDevicePixels="true">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                        <ColumnDefinition Width="0.00001*" />
                                        <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                    </Grid.ColumnDefinitions>
                                    <Button Background="#FF303435"
                                            BorderBrush="{x:Null}"
                                            BorderThickness="0.5"
                                            Command="{x:Static ScrollBar.LineLeftCommand}"
                                            IsEnabled="{TemplateBinding IsMouseOver}"
                                            Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="LeftArrow"
                                            Style="{DynamicResource ButtonStyle_ScrollBarLineLeft}" />
                                    <Track x:Name="PART_Track"
                                           Grid.Column="1"
                                           IsEnabled="{TemplateBinding IsMouseOver}">
                                        <Track.DecreaseRepeatButton>
                                            <RepeatButton Command="{x:Static ScrollBar.PageLeftCommand}" Style="{StaticResource HorizontalScrollBarPageButton}" />
                                        </Track.DecreaseRepeatButton>
                                        <Track.IncreaseRepeatButton>
                                            <RepeatButton Command="{x:Static ScrollBar.PageRightCommand}" Style="{StaticResource HorizontalScrollBarPageButton}" />
                                        </Track.IncreaseRepeatButton>
                                        <Track.Thumb>
                                            <Thumb Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="HorizontalGripper" Style="{StaticResource ScrollBarThumbv}" />
                                        </Track.Thumb>
                                    </Track>
                                    <Button Grid.Column="2"
                                            Background="#FF303435"
                                            BorderBrush="{x:Null}"
                                            BorderThickness="0.5"
                                            Command="{x:Static ScrollBar.LineRightCommand}"
                                            IsEnabled="{TemplateBinding IsMouseOver}"
                                            Microsoft_Windows_Themes:ScrollChrome.ScrollGlyph="RightArrow"
                                            Style="{DynamicResource ButtonStyle_ScrollBarLineRight}" />
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsEnabled" Value="false">
                                        <Setter TargetName="Bg" Property="Background" Value="gray" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="ButtonStyle_ScrollBarLineDown" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource SButtonFocusVisual}" />
            <Setter Property="Background" Value="{StaticResource ButtonNormalBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="Black"
                                BorderThickness="0,0.5">
                            <ed:RegularPolygon Width="8"
                                               Height="6"
                                               Margin="5,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Fill="Gainsboro"
                                               InnerRadius="1"
                                               PointCount="3"
                                               RenderTransformOrigin="0.5,0.5"
                                               Stretch="Fill">
                                <ed:RegularPolygon.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform />
                                        <SkewTransform />
                                        <RotateTransform Angle="180" />
                                        <TranslateTransform />
                                    </TransformGroup>
                                </ed:RegularPolygon.RenderTransform>
                            </ed:RegularPolygon>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="ToggleButton.IsChecked" Value="true" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <Style x:Key="bButtonFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2"
                                   SnapsToDevicePixels="true"
                                   Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
                                   StrokeDashArray="1 2"
                                   StrokeThickness="1" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <LinearGradientBrush x:Key="bButtonNormalBackground" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="#F3F3F3" />
            <GradientStop Offset="0.5" Color="#EBEBEB" />
            <GradientStop Offset="0.5" Color="#DDDDDD" />
            <GradientStop Offset="1" Color="#CDCDCD" />
        </LinearGradientBrush>
        <SolidColorBrush x:Key="bButtonNormalBorder" Color="#FF707070" />
        <Style TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource bButtonFocusVisual}" />
            <Setter Property="Background" Value="{StaticResource bButtonNormalBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource bButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border"
                                BorderBrush="Black"
                                BorderThickness="1"
                                CornerRadius="3">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">

                                    <GradientStop Offset="0" Color="#FF3995DE" />
                                    <GradientStop Offset="1" Color="#FF057AD7" />
                                    <GradientStop Offset="0.525" Color="#FF057AD7" />
                                    <GradientStop Offset="0.495" Color="#FF3995DE" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <TextBlock HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Text="{TemplateBinding Content}"
                                       TextWrapping="Wrap" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                            <GradientStop Offset="0" Color="#FF75ECF2" />
                                            <GradientStop Offset="1" Color="#FF19E0E7" />
                                            <GradientStop Offset="0.5" Color="#FF19E0E7" />
                                            <GradientStop Offset="0.495" Color="#FF75ECF2" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="ToggleButton.IsChecked" Value="true" />
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid x:Name="LayoutRoot" DataContext="{Binding Source={StaticResource Window_FastSegmentation_VMDataSource}}">
        <TextBlock Margin="0,14,160,0"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Top"
                   Text="{DynamicResource Lang_Bright_EnvironmentBright}"
                   TextWrapping="Wrap"
                   d:LayoutOverrides="Width" />
        <TextBlock Margin="210,15,0,0"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Top"
                   Text="{DynamicResource Lang_Bright_ScreenBright}"
                   TextWrapping="Wrap" />
        <Border Height="40"
                Margin="3,50,3,0"
                VerticalAlignment="Top"
                BorderBrush="#FF5A5A5A"
                BorderThickness="1">
            <Grid Height="42" Margin="0">
                <TextBlock Width="Auto"
                           Margin="0,12,300,0"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           Text="{DynamicResource Lang_Bright_Above}"
                           TextWrapping="Wrap" />
                <Nova_Wpf_Control:NumericUpDown x:Name="NumericUpDown_EnvironmentBrightMax"
                                                Width="74"
                                                Margin="83,6,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Top"
                                                Background="#FF4B4B4B"
                                                IsSelectedAll="True"
                                                IsTabStop="True"
                                                MaxValue="10000000000"
                                                TabIndex="0"
                                                Value="{Binding MaxEnvironmentBright,
                                                                Mode=TwoWay}" />
                <TextBlock Width="66"
                           Margin="0,11,119,0"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           Text="Lux      --&gt;"
                           TextWrapping="Wrap" />
                <Nova_Wpf_Control:NumericUpDown x:Name="NumericUpDown_ScreenBrightMax"
                                                Width="74"
                                                Margin="0,6,34,0"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Top"
                                                Background="#FF4B4B4B"
                                                IsSelectedAll="True"
                                                IsTabStop="True"
                                                MaxValue="10000000000"
                                                TabIndex="1"
                                                Value="{Binding MaxScreenBright,
                                                                Mode=TwoWay}" />
                <TextBlock Margin="0,12,9,14.163"
                           HorizontalAlignment="Right"
                           Text="%"
                           TextWrapping="Wrap"
                           d:LayoutOverrides="Height" />
            </Grid>
        </Border>
        <Border Margin="3,110,3,130.5"
                BorderBrush="#FF5A5A5A"
                BorderThickness="1">
            <Grid Margin="0">
                <TextBlock x:Name="TextBlock_Segmentation"
                           Margin="318,34.5,9,0"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           RenderTransformOrigin="0.5,0.5"
                           Text="{Binding Value,
                                          ElementName=ScrollBar_SegmentationNum,
                                          Mode=TwoWay}"
                           TextWrapping="Wrap" />
                <TextBlock Margin="5,4.5,75,0"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Text="{DynamicResource Lang_Bright_SegmentationAdjust}"
                           TextWrapping="Wrap" />
                <TextBlock Margin="5,34.663,260,0"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           RenderTransformOrigin="0.5,0.5"
                           Text="{DynamicResource Lang_Bright_SegmentationNum}"
                           TextWrapping="Wrap" />
                <ScrollBar x:Name="ScrollBar_SegmentationNum"
                           Width="19"
                           Margin="0,-65.5,131,-85.5"
                           HorizontalAlignment="Right"
                           Background="#FF4B4B4B"
                           Maximum="20"
                           Minimum="1"
                           RenderTransformOrigin="0.5,0.5"
                           SmallChange="1"
                           TabIndex="2"
                           ViewportSize="1"
                           Value="{Binding SegmentationNum,
                                           Mode=TwoWay}">
                    <ScrollBar.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform />
                            <SkewTransform />
                            <RotateTransform Angle="270" />
                            <TranslateTransform />
                        </TransformGroup>
                    </ScrollBar.RenderTransform>
                </ScrollBar>
            </Grid>
        </Border>
        <Border Height="51"
                Margin="3,0,3,60"
                VerticalAlignment="Bottom"
                BorderBrush="#FF5A5A5A"
                BorderThickness="1">
            <Grid Margin="0,0,0,6">
                <TextBlock Width="Auto"
                           Margin="0,13,300,14.163"
                           HorizontalAlignment="Right"
                           Text="{DynamicResource Lang_Bright_Below}"
                           TextWrapping="Wrap"
                           d:LayoutOverrides="Height" />
                <Nova_Wpf_Control:NumericUpDown x:Name="NumericUpDown_EnvironMentBrightMin"
                                                Width="74"
                                                Margin="85,7,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Top"
                                                Background="#FF4B4B4B"
                                                IsSelectedAll="True"
                                                IsTabStop="True"
                                                MaxValue="10000000000"
                                                TabIndex="3"
                                                Value="{Binding MinEnvironmentBright,
                                                                Mode=TwoWay}" />
                <TextBlock Margin="183,11,0,16"
                           HorizontalAlignment="Left"
                           Text="Lux      --&gt;"
                           TextWrapping="Wrap" />
                <Nova_Wpf_Control:NumericUpDown x:Name="NumericUpDown_ScreenBrightMin"
                                                Width="74"
                                                Margin="0,8,29,0"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Top"
                                                Background="#FF4B4B4B"
                                                IsSelectedAll="True"
                                                IsTabStop="True"
                                                MaxValue="10000000000"
                                                TabIndex="4"
                                                Value="{Binding MinScreenBright,
                                                                Mode=TwoWay}" />
                <TextBlock Margin="0,13,9,14.163"
                           HorizontalAlignment="Right"
                           Text="%"
                           TextWrapping="Wrap"
                           d:LayoutOverrides="Height" />
            </Grid>
        </Border>
        <Button x:Name="Button_OK"
                Width="68"
                Height="26"
                Margin="0,0,105,7"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                VerticalContentAlignment="Bottom"
                Command="{Binding CmdOk,
                                  Mode=OneWay}"
                Content="{DynamicResource Lang_Global_OK}"
                TabIndex="5"
                d:LayoutOverrides="Width" />
        <Button x:Name="Button_Cancel"
                Width="68"
                Height="26"
                Margin="0,0,15,6"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                VerticalContentAlignment="Bottom"
                Command="{Binding CmdCancel,
                                  Mode=OneWay}"
                Content="{DynamicResource Lang_Global_Cancel}"
                TabIndex="6" />
    </Grid>
</MetroUI:MetroWindow>